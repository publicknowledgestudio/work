<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Work â€” Public Knowledge Studio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/style.css">
  <link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/regular/style.css">
  <link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/fill/style.css">
</head>
<body>
  <!-- Login Screen -->
  <div id="login-screen">
    <div class="login-card">
      <div class="login-logo">PK</div>
      <h1 class="login-title">Public Knowledge Studio</h1>
      <p class="login-subtitle">Work Management</p>
      <button id="login-btn" class="btn-google">
        <svg width="18" height="18" viewBox="0 0 48 48"><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/></svg>
        Sign in with Google
      </button>
      <p class="login-note">Restricted to @publicknowledge.co accounts</p>
    </div>
  </div>

  <!-- App Shell -->
  <div id="app-shell" class="hidden">
    <header id="app-header">
      <div class="header-top">
        <div class="header-left">
          <span class="header-logo">PK<span class="header-logo-dot">.</span></span>
          <nav class="header-nav">
            <button class="nav-tab active" data-view="board-status"><i class="ph-fill ph-list-checks"></i> <span class="nav-label">By Status</span></button>
            <button class="nav-tab" data-view="board-assignee"><i class="ph-fill ph-users"></i> <span class="nav-label">By Assignee</span></button>
            <button class="nav-tab" data-view="board-client"><i class="ph-fill ph-buildings"></i> <span class="nav-label">By Client</span></button>
            <button class="nav-tab" data-view="my-tasks"><i class="ph-fill ph-user-focus"></i> <span class="nav-label">My Tasks</span></button>
            <button class="nav-tab" data-view="standup"><i class="ph-fill ph-lightning"></i> <span class="nav-label">Standup</span></button>
            <button class="nav-tab" data-view="clients"><i class="ph-fill ph-buildings"></i> <span class="nav-label">Clients</span></button>
          </nav>
        </div>
        <div class="header-right">
          <div class="filter-group" id="filter-group">
            <select id="filter-client" class="filter-select">
              <option value="">All Clients</option>
            </select>
            <select id="filter-project" class="filter-select">
              <option value="">All Projects</option>
            </select>
            <select id="filter-assignee" class="filter-select">
              <option value="">Everyone</option>
            </select>
          </div>
          <button id="new-task-btn" class="btn-primary"><i class="ph ph-plus"></i> <span class="btn-label">Task</span></button>
          <div class="user-menu">
            <div id="user-avatar" class="avatar-sm"></div>
            <button id="logout-btn" class="btn-ghost"><i class="ph ph-sign-out"></i> <span class="btn-label">Sign out</span></button>
          </div>
        </div>
      </div>
    </header>
    <main id="main-content"></main>
  </div>

  <!-- Task Modal -->
  <div id="task-modal" class="modal-overlay hidden">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title" id="modal-title">New Task</h2>
        <button class="modal-close" id="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <label class="form-label">Title</label>
          <input type="text" id="task-title" class="form-input" placeholder="What needs to be done?">
        </div>
        <div class="form-row">
          <label class="form-label">Description</label>
          <textarea id="task-description" class="form-textarea" rows="3" placeholder="Add details..."></textarea>
        </div>
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label">Client</label>
            <select id="task-client" class="form-select"></select>
          </div>
          <div class="form-row">
            <label class="form-label">Project</label>
            <select id="task-project" class="form-select"></select>
          </div>
        </div>
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label">Assignees</label>
            <div id="task-assignees-container" class="assignee-multi-select">
              <div id="task-assignees-chips" class="assignee-chips"></div>
              <div id="task-assignees-dropdown" class="assignee-dropdown"></div>
            </div>
          </div>
          <div class="form-row">
            <label class="form-label">Status</label>
            <select id="task-status" class="form-select">
              <option value="backlog">Backlog</option>
              <option value="todo">To Do</option>
              <option value="in_progress">In Progress</option>
              <option value="review">Review</option>
              <option value="done">Done</option>
            </select>
          </div>
        </div>
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label">Priority</label>
            <select id="task-priority" class="form-select">
              <option value="medium">Medium</option>
              <option value="low">Low</option>
              <option value="high">High</option>
              <option value="urgent">Urgent</option>
            </select>
          </div>
          <div class="form-row">
            <label class="form-label">Deadline</label>
            <input type="date" id="task-deadline" class="form-input">
          </div>
        </div>
        <div class="form-row">
          <label class="form-label">Notes</label>
          <textarea id="task-notes" class="form-textarea" rows="2" placeholder="Add a note (Granola meeting notes, etc.)..."></textarea>
        </div>
        <div id="task-notes-list" class="notes-list"></div>
      </div>
      <div class="modal-footer">
        <button id="task-delete" class="btn-danger hidden"><i class="ph ph-trash"></i> Delete</button>
        <div class="modal-footer-right">
          <button id="task-cancel" class="btn-ghost">Cancel</button>
          <button id="task-save" class="btn-primary">Save Task</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
